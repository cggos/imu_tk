Importing IMU data from the Matlab matrix file : ../../imu_tools/imu_calib/imu_tk/data/acc.mat
Importing IMU data from the Matlab matrix file : ../../imu_tools/imu_calib/imu_tk/data/gyr.mat
Accelerometers calibration: calibrating...
Accelerometers calibration: extracted 41 intervals using threshold multiplier 2 -> Trying calibrate... 
iter      cost      cost_change  |gradient|   |step|    tr_ratio  tr_radius  ls_iter  iter_time  total_time
   0  3.326257e+02    0.00e+00    2.58e+03   0.00e+00   0.00e+00  1.00e+04        0    8.73e-03    8.99e-03
   1  2.787164e+00    3.30e+02    5.23e+02   6.47e-01   9.93e-01  3.00e+04        1    1.11e-02    2.02e-02
   2  5.490685e-01    2.24e+00    7.29e+00   3.22e-02   1.00e+00  9.00e+04        1    9.76e-03    3.00e-02
   3  5.487309e-01    3.38e-04    2.02e-03   3.74e-04   1.00e+00  2.70e+05        1    9.87e-03    3.99e-02
residual 0.548731
Accelerometers calibration: extracted 42 intervals using threshold multiplier 3 -> Trying calibrate... 
iter      cost      cost_change  |gradient|   |step|    tr_ratio  tr_radius  ls_iter  iter_time  total_time
   0  3.373801e+02    0.00e+00    2.58e+03   0.00e+00   0.00e+00  1.00e+04        0    9.76e-03    1.01e-02
   1  4.117557e+00    3.33e+02    4.99e+02   6.39e-01   9.90e-01  3.00e+04        1    9.59e-03    1.98e-02
   2  6.605601e-01    3.46e+00    7.99e+00   4.92e-02   1.00e+00  9.00e+04        1    8.94e-03    2.87e-02
   3  6.600838e-01    4.76e-04    5.12e-03   5.65e-04   1.00e+00  2.70e+05        1    1.38e-02    4.26e-02
residual 0.660084
Accelerometers calibration: extracted 44 intervals using threshold multiplier 4 -> Trying calibrate... 
iter      cost      cost_change  |gradient|   |step|    tr_ratio  tr_radius  ls_iter  iter_time  total_time
   0  3.459422e+02    0.00e+00    2.58e+03   0.00e+00   0.00e+00  1.00e+04        0    9.58e-03    9.84e-03
   1  3.614761e+00    3.42e+02    3.73e+02   6.41e-01   9.92e-01  3.00e+04        1    9.41e-03    1.93e-02
   2  7.633218e-01    2.85e+00    8.06e+00   4.62e-02   1.00e+00  9.00e+04        1    1.02e-02    2.95e-02
   3  7.628740e-01    4.48e-04    5.06e-03   5.42e-04   1.00e+00  2.70e+05        1    9.83e-03    3.93e-02
residual 0.762874
Accelerometers calibration: extracted 45 intervals using threshold multiplier 5 -> Trying calibrate... 
iter      cost      cost_change  |gradient|   |step|    tr_ratio  tr_radius  ls_iter  iter_time  total_time
   0  3.530450e+02    0.00e+00    2.93e+03   0.00e+00   0.00e+00  1.00e+04        0    9.51e-03    9.74e-03
   1  4.766066e+00    3.48e+02    5.57e+02   6.37e-01   9.89e-01  3.00e+04        1    9.72e-03    1.95e-02
   2  9.157443e-01    3.85e+00    8.51e+00   5.33e-02   1.00e+00  9.00e+04        1    1.18e-02    3.13e-02
   3  9.152184e-01    5.26e-04    1.43e-02   6.87e-04   1.00e+00  2.70e+05        1    9.63e-03    4.09e-02
residual 0.915218
Accelerometers calibration: extracted 45 intervals using threshold multiplier 6 -> Trying calibrate... 
iter      cost      cost_change  |gradient|   |step|    tr_ratio  tr_radius  ls_iter  iter_time  total_time
   0  3.483373e+02    0.00e+00    2.58e+03   0.00e+00   0.00e+00  1.00e+04        0    8.89e-03    9.11e-03
   1  4.057217e+00    3.44e+02    3.89e+02   6.37e-01   9.91e-01  3.00e+04        1    9.97e-03    1.91e-02
   2  9.204036e-01    3.14e+00    8.66e+00   4.91e-02   1.00e+00  9.00e+04        1    1.11e-02    3.02e-02
   3  9.199090e-01    4.95e-04    1.38e-02   6.69e-04   1.00e+00  2.70e+05        1    9.78e-03    4.00e-02
residual 0.919909
Accelerometers calibration: extracted 45 intervals using threshold multiplier 7 -> Trying calibrate... 
iter      cost      cost_change  |gradient|   |step|    tr_ratio  tr_radius  ls_iter  iter_time  total_time
   0  3.482366e+02    0.00e+00    2.58e+03   0.00e+00   0.00e+00  1.00e+04        0    8.71e-03    8.99e-03
   1  3.992399e+00    3.44e+02    3.71e+02   6.38e-01   9.91e-01  3.00e+04        1    9.77e-03    1.88e-02
   2  9.405326e-01    3.05e+00    8.38e+00   4.80e-02   1.00e+00  9.00e+04        1    1.16e-02    3.04e-02
   3  9.400665e-01    4.66e-04    1.36e-02   6.57e-04   1.00e+00  2.70e+05        1    9.46e-03    3.99e-02
residual 0.940066
Accelerometers calibration: extracted 47 intervals using threshold multiplier 8 -> Trying calibrate... 
iter      cost      cost_change  |gradient|   |step|    tr_ratio  tr_radius  ls_iter  iter_time  total_time
   0  3.535435e+02    0.00e+00    2.58e+03   0.00e+00   0.00e+00  1.00e+04        0    1.25e-02    1.33e-02
   1  2.899093e+00    3.51e+02    2.95e+02   6.45e-01   9.95e-01  3.00e+04        1    1.03e-02    2.36e-02
   2  1.000761e+00    1.90e+00    7.41e+00   3.58e-02   1.00e+00  9.00e+04        1    1.07e-02    3.43e-02
   3  1.000452e+00    3.09e-04    6.74e-03   4.71e-04   1.00e+00  2.70e+05        1    1.03e-02    4.46e-02
residual 1.00045
Accelerometers calibration: extracted 47 intervals using threshold multiplier 9 -> Trying calibrate... 
iter      cost      cost_change  |gradient|   |step|    tr_ratio  tr_radius  ls_iter  iter_time  total_time
   0  3.537477e+02    0.00e+00    2.58e+03   0.00e+00   0.00e+00  1.00e+04        0    9.90e-03    1.01e-02
   1  2.685118e+00    3.51e+02    2.98e+02   6.47e-01   9.95e-01  3.00e+04        1    1.01e-02    2.02e-02
   2  1.041438e+00    1.64e+00    6.72e+00   3.25e-02   1.00e+00  9.00e+04        1    1.08e-02    3.10e-02
   3  1.041191e+00    2.47e-04    5.41e-03   4.12e-04   1.00e+00  2.70e+05        1    1.18e-02    4.29e-02
residual 1.04119
Accelerometers calibration: extracted 47 intervals using threshold multiplier 10 -> Trying calibrate... 
iter      cost      cost_change  |gradient|   |step|    tr_ratio  tr_radius  ls_iter  iter_time  total_time
   0  3.538306e+02    0.00e+00    2.58e+03   0.00e+00   0.00e+00  1.00e+04        0    1.17e-02    1.19e-02
   1  2.238602e+00    3.52e+02    2.96e+02   6.45e-01   9.97e-01  3.00e+04        1    9.87e-03    2.18e-02
   2  1.121897e+00    1.12e+00    6.07e+00   2.50e-02   1.00e+00  9.00e+04        1    1.02e-02    3.20e-02
   3  1.121713e+00    1.84e-04    2.87e-03   3.11e-04   1.00e+00  2.70e+05        1    1.14e-02    4.35e-02
residual 1.12171
Accelerometers calibration: Better calibration obtained using threshold multiplier 2 with residual 0.548731
Misalignment Matrix
          1   0.0194692  -0.0574956
          0           1 -0.00366816
         -0           0           1
Scale Matrix
1.00773       0       0
      0 1.01848       0
      0       0 1.01499
Bias Vector
 -0.19119
  0.57394
-0.231325

Accelerometers calibration: inverse scale factors:
0.992329
0.981854
0.985234

Press Enter to continue

Gyroscopes calibration: calibrating...
iter      cost      cost_change  |gradient|   |step|    tr_ratio  tr_radius  ls_iter  iter_time  total_time
   0  5.630231e-02    0.00e+00    1.23e+00   0.00e+00   0.00e+00  1.00e+04        0    1.77e-01    1.77e-01
   1  1.517508e-02    4.11e-02    5.11e-02   6.00e-02   1.01e+00  3.00e+04        1    1.62e-01    3.38e-01
   2  1.513573e-02    3.93e-05    1.71e-04   1.11e-03   1.00e+00  9.00e+04        1    1.60e-01    4.99e-01

Solver Summary (v 2.1.0-eigen-(3.3.4)-lapack-suitesparse-(5.1.2)-cxsparse-(3.1.9)-eigensparse-no_openmp)

                                     Original                  Reduced
Parameter blocks                            1                        1
Parameters                                  9                        9
Residual blocks                            40                       40
Residuals                                 120                      120

Minimizer                        TRUST_REGION

Dense linear algebra library            EIGEN
Trust region strategy     LEVENBERG_MARQUARDT

                                        Given                     Used
Linear solver                        DENSE_QR                 DENSE_QR
Threads                                     1                        1
Linear solver ordering              AUTOMATIC                        1

Cost:
Initial                          5.630231e-02
Final                            1.513573e-02
Change                           4.116658e-02

Minimizer iterations                        3
Successful steps                            3
Unsuccessful steps                          0

Time (in seconds):
Preprocessor                         0.000018

  Residual only evaluation           0.012670 (3)
  Jacobian & residual evaluation     0.490909 (3)
  Linear solver                      0.000110 (3)
Minimizer                            0.503822

Postprocessor                        0.000004
Total                                0.503844

Termination:                      CONVERGENCE (Function tolerance reached. |cost_change|/cost: 8.146857e-08 <= 1.000000e-06)

Gyroscopes calibration: residual 0.0151357
Misalignment Matrix
          1   0.0141865  -0.0365638
 -0.0195891           1 -0.00691532
  0.0386539   0.0134009           1
Scale Matrix
 1.00051        0        0
       0 0.999542        0
       0        0  0.99792
Bias Vector
 0.00335198
-0.00136361
-0.00353717

Gyroscopes calibration: inverse scale factors:
0.999487
1.00046
1.00208

